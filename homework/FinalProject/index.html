<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <title>U.S. Air Travel Trends Project </title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>

    <div id="banner">

        <h1>U.S. Air Travel Trends</h1>
      <p style="background-color: #d2d44dd0"> 
          Description:  Millions of people take flights in the U.S. every year for reasons that range from business, tourism, to family visits. Due to the high number of flights, there is a tremendous amount of available data that can be used to extract valuable insights for stakeholders in the airline industry. 
        <br> Objective: The objective of this project is to identify trends in U.S. air travel to (1) understand changes in passenger behavior throughout the years to further prepare for future events.
      </p>

    </div>

    <div class="section">
      <p> Line graphs for the two biggest (% of market share) travel companies showing flight and passenger trends managers to gauge operational efficiency by tracking the ratio between the two.
        <br> A highly efficient airline will show trendlines that are similar and overlap. When there is a significant discrepancy, we can see a distinct gap.</p>
      <svg id="chart1"></svg>
    </div>

    <div class="section">
      <svg id="chart2"></svg>
      <p>The bubble chart will depict U.S. and foreign airports with size tied to the number of departures (larger the bubble, the more departures) and color denoting the number of passengers (darker shades indicate a higher number of passengers).</p>
    </div>

    <div id="tooltip">
      <h2 id="title"></h2>
      Value: <span id="value"></span>
    </div>

    <script src="banner.js"></script>

    <script src="chart1.js"></script>

    <script> 

    // Loading CSV files
    d3.csv("Passengers_Departures_Report.csv", function(error, data){
      console.log(data);
      data.forEach(function(d) {
        d["Total"]=parseFloat (d["Total"]);
      })
    });

    // Filter an Array of data to only DELTA AIRLINES
    // by returning a boolean value for each row.
    function delta (){
      d3.csv("Passengers_Departures_Report.csv", function(error, data) {
      var delta = data.filter(function(row) {
        return row["Carrier"] == "DL";
        })
      console.log("delta", delta);
      });
    }

    // Filter an Array of data to only AMERICAN AIRLINES
    function american (){
      d3.csv("Passengers_Departures_Report.csv", function(error, data) {
      var american = data.filter (function(row){
        return row ["Carrier"] == "AA";
        })
      console.log("american", american);
      });
    }
    
    // Filter an Array of data to only UNITED AIRLINES   
    function united (){
      d3.csv("Passengers_Departures_Report.csv", function(error, data) {
      var united = data.filter (function(row){
        return row ['Carrier'] == 'UA';
        })
      console.log("united", united);
      });
    }
    
    // Loop through an array to change the String "value"
    // into a number.
      d3.csv("Passengers_Departures_Report.csv", function(error, data) {

      var totalPass = data.forEach(function(data) {
          data.Total = parseFloat(data.Total);
      });
    console.log(data);
    });  

      var carrier_data = d3.nest()
      .key (function(d) {return d.Carrier;})
      .rollup
    </script>

  </body>
</html>
