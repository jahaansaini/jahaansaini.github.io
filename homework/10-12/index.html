<!DOCTYPE html>
<html>
    <head>
        <meta charset ="utf-8" />
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <title> Visualization Technologies - Homework (9/21) </title>
        <style>
            .hw4text{
                font-family: "calibri";
                font-size: 12 px;
                font-style: underline;
                font-weight: bold;
            }
       </style>
    </head>
    <body>

       <h1 id="title">Back to Square 1</h1>
       <svg id="rect-viz"></svg>

       <br/>
       <br/>
       <button onclick= "drawRects(tropical)">Papaya and guava for breakfast</button>
       <button onclick= "drawRects(cold)">Lychee and raspberry for lunch </button>
       <button onclick= "drawRects(warm)">Mango and passion fruit for dinner</button>

       <script>
           var title = d3.select ("#title");
           title
           .style ("color","pink")
           .attr ("class", "hw4text");

           var tropical = [
               { 
               Fruit:"papaya",
               value: 20
           },
           {
               Fruit: "guava",
               value: 25
           }
           ];
           var cold = [
            {
                Fruit:"lychee",
                value: 30 
            },
            {
                Fruit: "raspberry",
                value: 15 
            }
            ];
           var warm = [
               {
                Fruit:"mango",
                value: 55
               },
               {
                Fruit: "passionfruit",
                value: 45
               }
           ];
            function drawRects(dataArray){
            var rects = d3.select("#rect-viz")
            .selectAll("rects")
            .data(dataArray,function(d)
            {
                return d.Fruit;
            });
      
            function rectPosition(){
                return Math.random()*100+50;
            }
// Entering squares 
            rects.enter()
            .append("rect")
            .attr ("fill",function (d){
                if (d.Fruit == "papaya"){
                    return "orange";
                }
                else if (d.Fruit=="guava"){
                    return "green";
                }
                else if (d.Fruit== "lychee") {
                    return "pink";
                }
                else if (d.Fruit== "raspberry") {
                    return "red";
                }
                else if (d.Fruit== "mango") {
                    return "yellow";
                }
                else if (d.Fruit== "passionfruit") {
                    return "purple";
                }
            })
            .attr("x", "200")
            .attr("y", rectPosition)
            .attr("width", "400")
            .attr("height", "400")
          .transition().duration(1000)
            .attr("x", "200");

// updating squares
            rects
            .transition().duration (1000)
            .attr("y", "100")

//exiting squares
            rects.exit()
            .transition().duration(1000)
            .attr("height","0")
            .remove ();
           }
       </script>
   </body>
</html>